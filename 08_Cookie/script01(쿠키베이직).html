<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div>
        쿠키이름: <input type="text" id="cookieName">
        쿠키값: <input type="text" id="cookieValue">
        <button type="button" id="cookieMake">쿠키생성</button>
    </div>


    <div>
        찾을쿠키이름: <input type="text" id="cookieFind">
        <button type="button" id="cookieGet">쿠키확인</button>
    </div>

    <script>
        //쿠키생성
        var cookieMake = document.getElementById("cookieMake");
        cookieMake.addEventListener("click", createCookie);

        function createCookie() {
            //쿠키의 키=값
            var name = document.getElementById("cookieName").value; // 쿠키의 키 = 위에서 입력한 쿠키이름
            var value = document.getElementById("cookieValue").value; // 쿠키의 값 = 위에서 입력한 쿠키값

            
            //쿠키시간
            var date = new Date();
            date.setDate(date.getDate() + 1); //오늘 일수 +1 = 내일
            // console.log(date);

            
            //쿠키는 문자열의 형태로 만들어진다 (형식을 반드시 지켜야 한다)
            var cookie = "";
            cookie += name += "=" + value + ";" //[ 키=값; ]
            cookie += "expires=" + date;

            console.log(cookie);

            //쿠키는 document.cookie 저장
            document.cookie = cookie;

        }
    

        //쿠키찾기
        var cookieGet = document.getElementById("cookieGet");
        cookieGet.addEventListener("click", getCookie);

        function getCookie() {

            var find = document.getElementById("cookieFind").value;

            // var cookies = document.cookie; //실제쿠키값
            //쿠키를 분해해야한다 cookies는 콘솔로 출력해보면 결과값이 aaa=123; bbb=123 이렇게 나온다.
            var cookies = document.cookie.split(";");

            console.log(find, cookies);

            for(var i in cookies) {
                console.log(i); //배열의 인덱스를 가져온다
                console.log(cookies[i]); //해당 인덱스의 값

                if(cookies[i].indexOf(find) != -1) {//-1이 아니다 = 찾았다 = 키 값이 존재한다
                    
                    console.log(cookies[i].replace(" ", "").replace(find+"=", "")); //값.리플레이스(공백없애기).리플레이스(등호없애기)
                    return; //함수종료
                    
                }
            }

        }
        
    </script>
</body>
</html>